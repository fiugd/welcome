<!doctype html>
<html>
	<head>
		<title>fiug.dev welcome playground</title>
		<meta charset="utf-8">
		<meta name="description" content="">
		<meta name="author" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="mobile-web-app-capable" content="yes">
		<meta name="color-scheme" content="dark light">
	</head>

	<style>
		body {
			display: flex;
			flex-direction: column;
			align-items: center;
			font-family: sans-serif;
		}
		@media (prefers-color-scheme: dark) {
			body { background: #222; color: #ccc; }
		}
		@media (prefers-color-scheme: light) {
			body { background: #ddd; }
		}
		.card {
			max-width: 650px;
			width: 100%;
			overflow: hidden;
			border-radius: 3px;
			box-shadow: 1px 1px 3px 0px #000a
		}
		.card + .card { margin-top: 1rem; }
		.card > a {
			display: flex;
			text-decoration: none;
			color: inherit;
		}
		.preview {
			width: 7rem;
			height: 7rem;
			background: ButtonBorder;
			background-size: cover;
			background-position: center;
		}
		.info {
			background: #fff2;
			flex:1;
			padding: 0.5rem;
		}
		.info .title {
			font-weight: 300;
			text-transform: uppercase;
		}
		.description {
			font-size: medium;
			font-weight: 100;
			margin-top: 0.25rem;
		}
	</style>

	<body></body>

	<script type="module">
		import getExamples from './index.examples.js';
		const pages = await getExamples();
		const { experiments, others, visit } = pages;
		window.visit = visit;

		const ListItem = ({ link, title, desc='', preview }) => {
			const element = document.createElement('div');
			element.classList.add('card');
			element.innerHTML= `
					<a nohref onClick="visit('${title}', '${link}')">
						<div class="preview" style="background-image:url('${preview}')"></div>
						<div class="info">
							<div class="title">${title.replace(/-/g, ' ')}</div>
							<div class="description">${desc}</div>
						</div>
					</a>
			`.trim();
			return element;
		};

		const experimentsHeader = document.createElement('p');
		experimentsHeader.textContent = 'experiments:';
		document.body.append(experimentsHeader);
		experiments.forEach(exp => {
			exp = Array.isArray(exp)
				? exp
				: [exp,exp]
			document.body.append(ListItem({
				link: `./${exp[0]}.html`,
				title: exp[1],
				desc: exp[2],
				preview: exp[3],
			}));
		});

		const otherHeader = document.createElement('p');
		otherHeader.textContent = 'other:';
		document.body.append(otherHeader);
		others.forEach(exp => {
			exp = Array.isArray(exp)
				? exp
				: [exp,exp];
			document.body.append(ListItem({
				link: exp[0],
				title: exp[1],
				desc: exp[2],
				preview: exp[3],
			}));
		});

	</script>
</html>
